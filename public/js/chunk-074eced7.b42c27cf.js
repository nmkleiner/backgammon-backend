(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-074eced7"],{"537b":function(t,e,n){"use strict";var s=n("7880"),o=n.n(s);o.a},7880:function(t,e,n){},"8a92":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"chat-cmp aside-card"},[n("div",{staticClass:"conversation-container"},[n("div",{staticClass:"empty",class:{"input-focus":t.isInputFocus}}),n("div",{ref:"conversationRef",staticClass:"conversation",class:{"input-focus":t.isInputFocus}},t._l(t.msgs,function(e,s){return n("chat-msg",{key:s,attrs:{msg:e,nickname:t.nickname}})}),1),n("form",{staticClass:"conversation-compose",class:{"input-focus":t.isInputFocus}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newMsg.txt,expression:"newMsg.txt"}],staticClass:"border-bottom-input",attrs:{placeholder:"Type a message",autocomplete:"off",autofocus:""},domProps:{value:t.newMsg.txt},on:{focus:t.toggleInputFocus,blur:t.toggleInputFocus,input:function(e){e.target.composing||t.$set(t.newMsg,"txt",e.target.value)}}}),n("button",{staticClass:"send-btn",on:{click:function(e){return e.preventDefault(),t.send(e)}}},[n("i",{staticClass:"far fa-comment"})])])])])},o=[],i=(n("96cf"),n("1da1"));function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),s.forEach(function(e){c(t,e,n[e])})}return t}n("cadf"),n("551c"),n("097d"),n("8055");var a=[],u=function(){return a};function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"john doe",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{txt:e,from:t}}function g(t){socket.emit("chat room-joined",t)}function f(){socket.emit("disconnect")}var m={getMsgs:u,createEmptyMsg:l,roomJoin:g,disconnectFromRoom:f};var p=n("6acc"),h=function(){return n.e("chunk-28fbbf5c").then(n.bind(null,"7b6b"))},d=function(){return n.e("chunk-0da64564").then(n.bind(null,"d20f"))},v={components:{soldier:h,chatMsg:d},props:{isChatOpen:Boolean},data:function(){return{msgs:[],newMsg:{},typeMsg:"",loading:!0}},methods:{send:function(){this.newMsg.txt&&(this.$socket.emit("assignMsg",{msg:r({},this.newMsg,{from:this.nickname,color:this.loggedInUser.color,pic:this.loggedInUser.pic}),room:1}),this.newMsg=m.createEmptyMsg(this.nickname),this.pushMsgToHistory(this.newMsg))},scrollToEnd:function(){var t=this.$refs.conversationRef,e=t.scrollHeight;t.scrollTop=e},pushMsgToHistory:function(t){this.$emit("pushMsgToHistory",t)},toggleInputFocus:function(){this.$store.commit("toggleInputFocus")}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getLoggedInUser");case 2:this.newMsg=m.createEmptyMsg(this.nickname),e=1,this.$socket.emit("chatJoined",e),setTimeout(function(){return n.loading=!1},1200);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},nickname:function(){return this.loggedInUser.userName?this.loggedInUser.userName:"guest"},isInputFocus:function(){return this.$store.getters.isInputFocus}},sockets:{renderMsg:function(t){p["a"].play("msg"),this.$store.commit({type:"setShowNotification",value:!0}),this.msgs.push(t),this.scrollToEnd()}}},b=v,w=(n("537b"),n("2877")),y=Object(w["a"])(b,s,o,!1,null,"16c16d54",null);y.options.__file="chat-cmp.vue";e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-074eced7.b42c27cf.js.map